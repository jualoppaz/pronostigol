extends partials/layout

block content
    div(ng-app="dashboard")
        div
            include partials/navbar
        div.container-fluid
            div.row
                include partials/sidebar
                div.col-sm-9.col-sm-offset-3.col-md-10.col-md-offset-2.main(ng-controller="ComentarioController")
                    h1.page-header(style="padding-top: 5px; margin-bottom: 10px") Comentario

                    form.form-horizontal
                        div.form-group
                            label.col-sm-2.control-label Usuario:
                            div.col-sm-4
                                input(ng-model="comentario.user").form-control
                        div.form-group
                            label.col-sm-2.control-label Texto:
                            div.col-sm-4
                                textarea(ng-model="comentario.texto").form-control
                        div.form-group
                            label.col-sm-2.control-label Fecha:
                            div.col-sm-4
                                input(ng-model="comentario.fecha").form-control
                        div.form-group
                            label.col-sm-2.control-label Validado:
                            div.col-sm-4
                                select.form-control(ng-model="comentario.validado", ng-options="opcion.value as opcion.name for opcion in opcionesValidacion",
                                ng-init="comentario.validado = comentario.validado || opcionesValidacion[0]")

                        div.col-md-4.col-md-offset-8
                            a.pull-right(href="", ng-click="anadirRespuesta()").pointer AÃ±adir respuesta
                        div.col-md-4.col-md-offset-8
                            a.pull-right(href="", ng-click="eliminarRespuesta()").pointer Eliminar respuesta


                        h1.page-header(ng-show="comentario.respuestas.length > 0") Respuestas

                        div.form-group(ng-repeat="respuesta in comentario.respuestas")
                            label.col-sm-2.control-label Respuesta {{$index+1}}
                            div.col-sm-4
                                input(ng-model="respuesta.user", placeholder="Autor del comentario").form-control
                                input(ng-model="respuesta.fecha", placeholder="Fecha").form-control
                                select.form-control(ng-model="respuesta.validado", ng-options="opcion.value as opcion.name for opcion in opcionesValidacion",
                                ng-init="respuesta.validado = respuesta.validado || opcionesValidacion[0].value")
                                textarea(ng-model="respuesta.texto", placeholder="Comentario").form-control

                        div.form-group
                            div.col-sm-2.col-sm-offset-2
                                a.btn.btn-default(href="#", role="button", ng-click="redirigirTrasCancelar()")#cancel Cancelar
                            div.col-sm-2(style="text-align:right")
                                a.btn.btn-default.btn-primary(href="#", role="button", ng-click="guardar()")#confirmarEliminacion Aceptar





                    include ../modals/comentarioEditado

block scripts
    script(src="/js/jquery.js")
    script(src="/js/bootstrap.js")
    script(src="/js/angular.js")
    script(src='/js/angular/admin/dashboard.js')
    script(src="/js/angular/admin/comentario.js")
    script(src="/js/angular/admin/navbar.js")
    script(src="/js/angular/admin/sidebar.js")
    script(src='/js/angular/ui-bootstrap-tpls-0.11.2.js')
