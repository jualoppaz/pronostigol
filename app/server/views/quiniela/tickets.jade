extends ../layout

block head
    title Quinielas
    link(rel="stylesheet", href="/css/quiniela.css")
    link(rel="stylesheet", href="/css/backgroundImage.css")


block content
    div#wrap(ng-app="qdb")

        div.container(ng-controller="LoguedUserController", style="margin-left: 0px; padding: 0 0 0 0;")
            div(ng-controller="QuinielasController")

                include partials/navbar

                div.col-md-12.col-sm-12.col-xs-12(style="padding: 0 0 0 0")
                    div
                        div.col-md-12.col-sm-12.col-xs-12(style="padding-top: 20px")
                            script(async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js")
                            ins.adsbygoogle(style="display:block", data-ad-client="ca-pub-2309187828170787",
                                data-ad-slot="6542743559", data-ad-format="auto")
                            script (adsbygoogle = window.adsbygoogle || []).push({});

                        div.col-md-12.col-sm-12.col-xs-12(style="padding-top: 15px")

                            div.col-md-6.col-sm-6.col-xs-12
                                div.alert.alert-info.alert-quiniela
                                    | Aqu&iacute; podr&aacute;s buscar las quinielas de las temporadas que se indican a continuaci&oacute;n.

                        div.col-md-12.col-sm-12.col-xs-12

                            div.col-md-3
                                ul.list-group.lista-temporadas-quiniela
                                    li.list-group-item(ng-click="mostrarQuinielasDeTemporada('2013-2014')").pointer Temporada 2013-2014
                                    li.list-group-item(ng-click="mostrarQuinielasDeTemporada('2014-2015')").pointer Temporada 2014-2015
                                    li.list-group-item(ng-click="mostrarQuinielasDeTemporada('2015-2016')").pointer Temporada 2015-2016


                                //ul.pagination-sm.uib-pagination(boundary-links="true", total-items="totalItems", ng-model="currentPage", previous-text="‹", next-text="›", first-text="«", last-text="»")
                                    li(ng-if="boundaryLinks", ng-class="{disabled: noPrevious()}" class="ng-scope disabled")
                                        a(href="", ng-click="selectPage(1)") «

                                //ul
                                    li(ng-repeat="item in data") {{item.name}}
                                //uib-pagination(num-pages="noOfPages", current-page="currentPage").pagination-small





                            div.col-md-7.col-md-offset-1(ng-show="tickets.length > 0", ng-cloak, style="background-color: white; margin-bottom: 20px; border: 2px solid #0480be !important; border-radius: 4px")
                                div.col-md-12(style="padding-top: 20px")
                                    label.col-md-4.col-sm-4.col-xs-6(style="clear:both; padding-top:5px") Quinielas por página:
                                    div.col-md-2.col-sm-2.col-xs-6
                                        input(type="number", min="1", ng-model="ticketsPerPage").form-control

                                table.table.tabla-quinielas
                                    thead
                                        tr
                                            th Jornada
                                            th Modalidad
                                            th Fecha
                                    tbody
                                        tr(ng-repeat="ticket in tickets | orderBy:propiedad")
                                            //td(ng-show="($index + 1 > (currentPage - 1) * ticketsPerPage) && ($index + 1 <= currentPage * ticketsPerPage)") {{$index+1}}
                                            td(ng-show="($index + 1 > (currentPage - 1) * ticketsPerPage) && ($index + 1 <= currentPage * ticketsPerPage)", ng-click="verTicket(ticket)", ng-bind-template="{{ticket.jornada}}").pointer
                                            td(ng-show="($index + 1 > (currentPage - 1) * ticketsPerPage) && ($index + 1 <= currentPage * ticketsPerPage)", ng-click="verTicket(ticket)", ng-bind-template="{{ticket.modalidad}}").pointer
                                            td(ng-show="($index + 1 > (currentPage - 1) * ticketsPerPage) && ($index + 1 <= currentPage * ticketsPerPage)", ng-click="verTicket(ticket)", ng-bind-template="{{ticket.fecha | date:'dd/MM/yyyy'}}").pointer

                                // Paginador manual - FUNCIONA

                                //ul.uib-pagination(ng-repeat="pagina in paginas")
                                    li(ng-show="pagina == currentPage").active
                                        a(href="#", ng-click="actualizarPagina(pagina)").active {{pagina}}
                                    li(ng-show="pagina != currentPage")
                                        a(href="#", ng-click="actualizarPagina(pagina)").active {{pagina}}

                                //pre The selected page no: {{currentPage}}
                                //pre Total items: {{tickets.length}}
                                //pre Tickets per page: {{numPerPage}}



                                uib-pagination(items-per-page="ticketsPerPage", boundary-links="true", total-items="totalItems", ng-model="currentPage", previous-text="<", next-text=">", first-text="Inicio", last-text="Fin").pagination-sm.abel


                                //pre Total Items: {{totalItems}}
                                //pre NumOfPages: {{numOfPages}}
                                //pre Paginas: {{paginas}}

        div#push

    include ../partials/footer

block scripts
    script(src='/js/jquery.js')
    script(src='/js/bootstrap.js')
    script(src='/js/angular.js')
    script(src='/js/angular/services.js')
    script(src='/js/angular/loguedUser.js')
    script(src='/js/angular/quiniela/tickets.js')
    script(src='/js/angular/navbar.js')
    script(src='/js/angular/ui-bootstrap-tpls-1.3.3.js')

